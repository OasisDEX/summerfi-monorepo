sources:
  - name: summer-events
    handler:
      graphql:
        # Default value is an empty string (value after ':') which refers to `summer-event` subgraph on ethereum
        # example of different value context.chainName:base
        # This is needed for the initial introspection on buildtime
        endpoint: https://subgraph.satsuma-prod.com/${SUBGRAPH_KEY}/summer-fi/summer-events{context.chainName:}/api

additionalTypeDefs: |
  extend type User {
    chainName: String
  }
  extend type Query {
    crossUsers(chainNames: [String!]!, where: User_filter): [User!]!
  }

additionalResolvers:
  - ./the-graph/resolvers.ts

documents:
  - ./the-graph/queries/example-query.graphql

codegen:
  contextType: 'MeshContext & { chainName: string }'
