{"abi":[{"type":"function","name":"basePrice","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getExchangeRate","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getExchangeRateEma","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getLowerBound","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getUpperBound","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"lowerPercentageRange","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"Percentage"}],"stateMutability":"view"},{"type":"function","name":"upperPercentageRange","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"Percentage"}],"stateMutability":"view"},{"type":"event","name":"BasePriceUpdated","inputs":[{"name":"basePrice","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"EmaRangeUpdated","inputs":[{"name":"lowerPercentageRange","type":"uint256","indexed":false,"internalType":"Percentage"},{"name":"upperPercentageRange","type":"uint256","indexed":false,"internalType":"Percentage"}],"anonymous":false},{"type":"error","name":"EmaRangeTooHigh","inputs":[{"name":"emaRange","type":"uint256","internalType":"Percentage"}]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"basePrice()":"c7876ea4","getExchangeRate()":"e6aa216c","getExchangeRateEma()":"4318a726","getLowerBound()":"1de0f095","getUpperBound()":"22c180b5","lowerPercentageRange()":"a968a776","upperPercentageRange()":"ba3f4fb2"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"Percentage\",\"name\":\"emaRange\",\"type\":\"uint256\"}],\"name\":\"EmaRangeTooHigh\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"basePrice\",\"type\":\"uint256\"}],\"name\":\"BasePriceUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"Percentage\",\"name\":\"lowerPercentageRange\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"Percentage\",\"name\":\"upperPercentageRange\",\"type\":\"uint256\"}],\"name\":\"EmaRangeUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"basePrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getExchangeRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getExchangeRateEma\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getLowerBound\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getUpperBound\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lowerPercentageRange\",\"outputs\":[{\"internalType\":\"Percentage\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"upperPercentageRange\",\"outputs\":[{\"internalType\":\"Percentage\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Abstract base contract for exchange rate providers with EMA range adjustment. This contract serves as a foundation for implementing exchange rate providers with built-in price smoothing using an Exponential Moving Average (EMA) range. It defines a common interface for getting exchange rates and their EMAs, as well as calculating upper and lower bounds based on the EMA range. Key features: - Maintains an adjustable EMA range for price smoothing - Provides abstract functions for current rates and EMAs - Implements bound calculations based on the EMA range - Includes a mechanism to set and update the EMA range The abstraction allows for various implementations while ensuring consistency across different providers. This design facilitates easy swapping of providers and promotes code reusability.\",\"errors\":{\"EmaRangeTooHigh(uint256)\":[{\"params\":{\"emaRange\":\"The invalid EMA range value\"}}]},\"events\":{\"BasePriceUpdated(uint256)\":{\"params\":{\"basePrice\":\"The new base price value\"}},\"EmaRangeUpdated(uint256,uint256)\":{\"params\":{\"lowerPercentageRange\":\"The new lower EMA range value\",\"upperPercentageRange\":\"The new upper EMA range value\"}}},\"kind\":\"dev\",\"methods\":{\"constructor\":{\"details\":\"Constructor to initialize the ExchangeRateProvider\",\"params\":{\"_lowerPercentageRange\":\"Lower EMA range for price smoothing\",\"_upperPercentageRange\":\"Upper EMA range for price smoothing\"}},\"getExchangeRate()\":{\"returns\":{\"_0\":\"The current exchange rate\"}},\"getExchangeRateEma()\":{\"returns\":{\"_0\":\"The EMA of the exchange rate\"}},\"getLowerBound()\":{\"returns\":{\"_0\":\"The lower bound of the exchange rate\"}},\"getUpperBound()\":{\"returns\":{\"_0\":\"The upper bound of the exchange rate\"}}},\"title\":\"ExchangeRateProviderBase\",\"version\":1},\"userdoc\":{\"errors\":{\"EmaRangeTooHigh(uint256)\":[{\"notice\":\"Error thrown when the provided EMA range is too high\"}]},\"events\":{\"BasePriceUpdated(uint256)\":{\"notice\":\"Emitted when the base price is updated\"},\"EmaRangeUpdated(uint256,uint256)\":{\"notice\":\"Emitted when the EMA range is updated\"}},\"kind\":\"user\",\"methods\":{\"basePrice()\":{\"notice\":\"The base price for the exchange rate\"},\"getExchangeRate()\":{\"notice\":\"Get the current exchange rate\"},\"getExchangeRateEma()\":{\"notice\":\"Get the EMA (Exponential Moving Average) of the exchange rate\"},\"getLowerBound()\":{\"notice\":\"Get the lower bound of the exchange rate based on the EMA range\"},\"getUpperBound()\":{\"notice\":\"Get the upper bound of the exchange rate based on the EMA range\"},\"lowerPercentageRange()\":{\"notice\":\"The EMA (Exponential Moving Average) range for price smoothing\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/utils/exchangeRateProvider/ExchangeRateProviderBase.sol\":\"ExchangeRateProvider\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@layerzerolabs/=node_modules/@summerfi/dependencies/node_modules/@layerzerolabs/\",\":@openzeppelin-next/=node_modules/@summerfi/dependencies/lib/openzeppelin-next/\",\":@openzeppelin/contracts-upgradeable/=node_modules/@summerfi/dependencies/lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=node_modules/@summerfi/dependencies/lib/openzeppelin-contracts/contracts/\",\":@pendle/core-v2/contracts/=node_modules/@summerfi/dependencies/lib/pendle-core-v2-public/contracts/\",\":@prb/math/=node_modules/@summerfi/dependencies/lib/prb-math/\",\":@summerfi/access-contracts/=node_modules/@summerfi/access-contracts/src/\",\":@summerfi/constants/=node_modules/@summerfi/constants/src/\",\":@summerfi/dependencies/=node_modules/@summerfi/dependencies/lib/\",\":@summerfi/dutch-auction/=node_modules/@summerfi/dutch-auction/src/\",\":@summerfi/earn-gov-contracts/=node_modules/@summerfi/earn-gov-contracts/src/\",\":@summerfi/math-utils/contracts/=node_modules/@summerfi/math-utils/contracts/\",\":@summerfi/percentage-solidity/contracts/=node_modules/@summerfi/percentage-solidity/contracts/\",\":@summerfi/protocol-interfaces/=node_modules/@summerfi/protocol-interfaces/src/\",\":@summerfi/rewards-contracts/=node_modules/@summerfi/rewards-contracts/src/\",\":@summerfi/voting-decay/=node_modules/@summerfi/voting-decay/src/\",\":ds-test/=lib/metamorpho/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/metamorpho/lib/erc4626-tests/\",\":forge-std/=node_modules/@summerfi/dependencies/lib/forge-std/src/\",\":hardhat/=node_modules/hardhat/\",\":metamorpho/=node_modules/@summerfi/dependencies/lib/metamorpho/src/\",\":morpho-blue-irm/=lib/metamorpho/lib/morpho-blue-irm/src/\",\":morpho-blue/=node_modules/@summerfi/dependencies/lib/metamorpho/lib/morpho-blue/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":pendle-core-v2-public/=lib/pendle-core-v2-public/contracts/\",\":prb-math/=lib/prb-math/src/\",\":solidity-bytes-utils/=node_modules/solidity-bytes-utils/\",\":solmate/=lib/metamorpho/lib/morpho-blue-irm/lib/solmate/src/\"]},\"sources\":{\"node_modules/@summerfi/percentage-solidity/contracts/Percentage.sol\":{\"keccak256\":\"0x7c3cd1d63bbf27068d2670b2f56802f74cec5af98b0d5bf8fb380ec03ce0d74f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://21c797aa6bb45e3b06b368cc520c682dea0d60be9f7e99011cec5b8130946760\",\"dweb:/ipfs/QmQN8LDhwMa4EC8VRZKae6eBH7Q9kkhKmfNyszGGQUiaXa\"]},\"node_modules/@summerfi/percentage-solidity/contracts/PercentageUtils.sol\":{\"keccak256\":\"0xdc217b41f13467d67ddaafb381ae9002e956ca2dc8cd1c94082b6e8a1a0e548f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fee2ea6c9883053b41c257294f0a2a058b1a37ee746b5c1952e3edcf2229f417\",\"dweb:/ipfs/QmQjPKRr9nvruuePMMgCzy9SN8ava2tRFxMjH1KraLy5Ra\"]},\"src/utils/exchangeRateProvider/ExchangeRateProviderBase.sol\":{\"keccak256\":\"0x3f818ab9cd1dd1f665611ddd04ae22c310118f2c30adb7a5361909362ad10276\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://4c1cf4a880271b941f900c5fa124586376a91ff9adb287511e3869073bc463b9\",\"dweb:/ipfs/QmNWbMQVVGCJMgP3SFhNDPYjdiYiua9oNuTu8QTwiaTnAK\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"Percentage","name":"emaRange","type":"uint256"}],"type":"error","name":"EmaRangeTooHigh"},{"inputs":[{"internalType":"uint256","name":"basePrice","type":"uint256","indexed":false}],"type":"event","name":"BasePriceUpdated","anonymous":false},{"inputs":[{"internalType":"Percentage","name":"lowerPercentageRange","type":"uint256","indexed":false},{"internalType":"Percentage","name":"upperPercentageRange","type":"uint256","indexed":false}],"type":"event","name":"EmaRangeUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"basePrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getExchangeRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getExchangeRateEma","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getLowerBound","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getUpperBound","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"lowerPercentageRange","outputs":[{"internalType":"Percentage","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"upperPercentageRange","outputs":[{"internalType":"Percentage","name":"","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"constructor":{"details":"Constructor to initialize the ExchangeRateProvider","params":{"_lowerPercentageRange":"Lower EMA range for price smoothing","_upperPercentageRange":"Upper EMA range for price smoothing"}},"getExchangeRate()":{"returns":{"_0":"The current exchange rate"}},"getExchangeRateEma()":{"returns":{"_0":"The EMA of the exchange rate"}},"getLowerBound()":{"returns":{"_0":"The lower bound of the exchange rate"}},"getUpperBound()":{"returns":{"_0":"The upper bound of the exchange rate"}}},"version":1},"userdoc":{"kind":"user","methods":{"basePrice()":{"notice":"The base price for the exchange rate"},"getExchangeRate()":{"notice":"Get the current exchange rate"},"getExchangeRateEma()":{"notice":"Get the EMA (Exponential Moving Average) of the exchange rate"},"getLowerBound()":{"notice":"Get the lower bound of the exchange rate based on the EMA range"},"getUpperBound()":{"notice":"Get the upper bound of the exchange rate based on the EMA range"},"lowerPercentageRange()":{"notice":"The EMA (Exponential Moving Average) range for price smoothing"}},"version":1}},"settings":{"remappings":["@layerzerolabs/=node_modules/@summerfi/dependencies/node_modules/@layerzerolabs/","@openzeppelin-next/=node_modules/@summerfi/dependencies/lib/openzeppelin-next/","@openzeppelin/contracts-upgradeable/=node_modules/@summerfi/dependencies/lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=node_modules/@summerfi/dependencies/lib/openzeppelin-contracts/contracts/","@pendle/core-v2/contracts/=node_modules/@summerfi/dependencies/lib/pendle-core-v2-public/contracts/","@prb/math/=node_modules/@summerfi/dependencies/lib/prb-math/","@summerfi/access-contracts/=node_modules/@summerfi/access-contracts/src/","@summerfi/constants/=node_modules/@summerfi/constants/src/","@summerfi/dependencies/=node_modules/@summerfi/dependencies/lib/","@summerfi/dutch-auction/=node_modules/@summerfi/dutch-auction/src/","@summerfi/earn-gov-contracts/=node_modules/@summerfi/earn-gov-contracts/src/","@summerfi/math-utils/contracts/=node_modules/@summerfi/math-utils/contracts/","@summerfi/percentage-solidity/contracts/=node_modules/@summerfi/percentage-solidity/contracts/","@summerfi/protocol-interfaces/=node_modules/@summerfi/protocol-interfaces/src/","@summerfi/rewards-contracts/=node_modules/@summerfi/rewards-contracts/src/","@summerfi/voting-decay/=node_modules/@summerfi/voting-decay/src/","ds-test/=lib/metamorpho/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/metamorpho/lib/erc4626-tests/","forge-std/=node_modules/@summerfi/dependencies/lib/forge-std/src/","hardhat/=node_modules/hardhat/","metamorpho/=node_modules/@summerfi/dependencies/lib/metamorpho/src/","morpho-blue-irm/=lib/metamorpho/lib/morpho-blue-irm/src/","morpho-blue/=node_modules/@summerfi/dependencies/lib/metamorpho/lib/morpho-blue/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","pendle-core-v2-public/=lib/pendle-core-v2-public/contracts/","prb-math/=lib/prb-math/src/","solidity-bytes-utils/=node_modules/solidity-bytes-utils/","solmate/=lib/metamorpho/lib/morpho-blue-irm/lib/solmate/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/utils/exchangeRateProvider/ExchangeRateProviderBase.sol":"ExchangeRateProvider"},"evmVersion":"cancun","libraries":{}},"sources":{"node_modules/@summerfi/percentage-solidity/contracts/Percentage.sol":{"keccak256":"0x7c3cd1d63bbf27068d2670b2f56802f74cec5af98b0d5bf8fb380ec03ce0d74f","urls":["bzz-raw://21c797aa6bb45e3b06b368cc520c682dea0d60be9f7e99011cec5b8130946760","dweb:/ipfs/QmQN8LDhwMa4EC8VRZKae6eBH7Q9kkhKmfNyszGGQUiaXa"],"license":"MIT"},"node_modules/@summerfi/percentage-solidity/contracts/PercentageUtils.sol":{"keccak256":"0xdc217b41f13467d67ddaafb381ae9002e956ca2dc8cd1c94082b6e8a1a0e548f","urls":["bzz-raw://fee2ea6c9883053b41c257294f0a2a058b1a37ee746b5c1952e3edcf2229f417","dweb:/ipfs/QmQjPKRr9nvruuePMMgCzy9SN8ava2tRFxMjH1KraLy5Ra"],"license":"MIT"},"src/utils/exchangeRateProvider/ExchangeRateProviderBase.sol":{"keccak256":"0x3f818ab9cd1dd1f665611ddd04ae22c310118f2c30adb7a5361909362ad10276","urls":["bzz-raw://4c1cf4a880271b941f900c5fa124586376a91ff9adb287511e3869073bc463b9","dweb:/ipfs/QmNWbMQVVGCJMgP3SFhNDPYjdiYiua9oNuTu8QTwiaTnAK"],"license":"BUSL-1.1"}},"version":1},"id":277}